@model  List<WebWithAuthentication.ViewModel.CartItemViewModel>

@{
    ViewBag.Title = "Index";
}

@section css{
    <style>
        .txt-product-quantity {
            width: 50px !important;
            padding: 0 !important;
            margin: 0 !important;
        }

        .fa.fa-shopping-cart {
            color: white;
            font-size: 1.2em;
        }

        .cart-navbar-item {
            border: 2px solid #ccc;
            color: darkgoldenrod !important;
        }

        .btn-add-more-product-quantity, .btn-minus-product-quantity {
            width: 40px !important;
            color: white;
            border: 1px solid #ccc;
        }
    </style>}
@section scripts{
    <script src="../Content/FrontEndRef/js/shopping-cart.js"></script>
}
<section class="my-5" style="margin-top: 50px">
    <div class="container">
        @if (Model.Count() != 0)
        {
            <div class="table-responsive">

                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Số thứ tự</th>
                            <th>Tên</th>
                            <th>Hình ảnh</th>
                            <th>Đơn giá</th>
                            <th>Sô lượng</th>
                            <th>Tổng giá</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 1; i < Model.Count() + 1; i++)
                        {
                            var item = Model.ElementAt(i - 1);
                            <tr>
                                <td>@i</td>
                                <td>@item.BookName</td>
                                <td>
                                    <img src="../Image/@item.Image" alt="" style="width: 80px; height: 100px">
                                </td>
                                <td><span class="price-cart-product-item">@item.Price.000</span>d</td>
                                <td>
                                    <div class="input-group">
                                        <button class="btn btn-warning btn-minus-product-quantity" onclick="minusProductQuantityToCart(event,@item.BookId)">
                                            -
                                        </button>
                                        <input type="text" class="text-center txt-product-quantity" value="@item.Quantity" id="id_quantity_@item.BookId" onkeyup="editQuantityOfCart(this,@item.BookId)">
                                        <button class="btn btn-info btn-add-more-product-quantity" onclick="addMoreProductQuantityToCart(event,@item.BookId)">
                                            +
                                        </button>
                                    </div>
                                </td>
                                <td><span class="total-price-cart-product-item" id="id_totalPrice_@item.BookId">@item.TotalPrice.000</span>đ</td>
                                <td>
                                    <button class="btn btn-danger btn-remove-cart-product" onclick="deleteItemFromCart(@item.BookId)">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </td>
                            </tr>

                        }

                        <tr>
                            <td colspan="6" class="font-weight-bold">Tổng tiền</td>
                            <td><span class="total-price-cart-products" id="totalMoney">@ViewBag.totalMoney.000</span>đ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <a href="#" class="btn btn-success btn-order pull-right mt-3">Tiến hành đặt hàng</a>
            <a href="@Url.Action("Index","Categories")" class="btn btn-success pull-right mt-3 mr-3">Tiếp tục mua sắm</a>
        }
        else
        {
            <h3>Không có sản phầm nào trong giỏ hàng</h3>
            <a href="@Url.Action("Index","Categories")" class="btn btn-success mt-3 mr-3">Tiếp tục mua sắm</a>
        }



    </div>
    <div class="clearfix"></div>
</section>

<!-- Modal Oorder-->
<div class="modal fade modal-order" id="" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Don hang cua ban</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <strong>Sach tieng anh</strong>
                        <div>So luong: 2</div>
                        <div>Don gia: 10000</div>
                        <div>Tong gia: 20000</div>
                    </li>
                    <li class="list-group-item">
                        <strong>Sach tieng anh</strong>
                        <div>So luong: 2</div>
                        <div>Don gia: 10000</div>
                        <div>Tong gia: 20000</div>
                    </li>
                </ul>

                <form action="" class="mt-3">
                    <div class="form-group">
                        <label>So dien thoai</label>
                        <input type="text" class="form-control" placeholder="Nhap so dien thoai">
                    </div>
                    <div class="form-group">
                        <label>Dia chi giao hang</label>
                        <input type="text" class="form-control" placeholder="Nhap so dia chi">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" placeholder="Nhap email">
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success btn-finish-order">Hoan tat</button>
            </div>
        </div>
    </div>
</div>


